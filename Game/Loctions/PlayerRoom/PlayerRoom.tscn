[gd_scene load_steps=23 format=3 uid="uid://v7uuiioruv0j"]

[ext_resource type="PackedScene" uid="uid://b8t0b7kcbu145" path="res://Game/Npcs/Doctor/Doctor.tscn" id="1_413a8"]
[ext_resource type="Script" path="res://Game/Loctions/PlayerRoom/player_room.gd" id="1_xkoml"]
[ext_resource type="PackedScene" uid="uid://dj8ktaq2ssm6j" path="res://Game/Global-illumination.tscn" id="2_h147x"]
[ext_resource type="PackedScene" uid="uid://cxpyp7yoxaixr" path="res://Objects/room_clock.tscn" id="3_mx5ei"]
[ext_resource type="Texture2D" uid="uid://c5bj3otn1pl5f" path="res://Game/Loctions/PlayerRoom/mapa 1.png" id="4_enhsl"]
[ext_resource type="PackedScene" uid="uid://7sspjh77o6vm" path="res://Game/Player/player.tscn" id="5_6s2l1"]
[ext_resource type="Texture2D" uid="uid://cdjdi7e3hfopn" path="res://Game/Loctions/PlayerRoom/comodo cortina 2.png" id="7_ecr0s"]
[ext_resource type="Texture2D" uid="uid://co2ranalwxee1" path="res://Game/Loctions/PlayerRoom/comodo cortina.png" id="7_unrsb"]
[ext_resource type="PackedScene" uid="uid://d2apjj0tfq2bn" path="res://Objects/Cenario/Tv/tv.tscn" id="8_55il4"]
[ext_resource type="PackedScene" uid="uid://d2d1asq2fkvsq" path="res://Interface/PlayerInterface/player_interface.tscn" id="10_jdqjg"]
[ext_resource type="Script" path="res://Game/Loctions/PlayerRoom/enemy_spawning.gd" id="11_1tno7"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_icupd"]
size = Vector2(35, 430)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_asune"]
size = Vector2(35, 875)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_ogs2a"]
size = Vector2(35, 481.5)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_cwiyk"]
size = Vector2(35, 118)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_n3lfm"]
size = Vector2(35, 278)

[sub_resource type="SegmentShape2D" id="SegmentShape2D_pp5gr"]
a = Vector2(38, 8)
b = Vector2(148, 118)

[sub_resource type="SegmentShape2D" id="SegmentShape2D_m4vg1"]
a = Vector2(50, 12)
b = Vector2(183, 141)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_yn417"]
size = Vector2(221, 11)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_fy54q"]
size = Vector2(221, 11)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_f6fea"]
size = Vector2(44, 29)

[sub_resource type="NavigationPolygon" id="NavigationPolygon_q05t7"]
vertices = PackedVector2Array(220.102, 189.508, 309.609, 270.891, -28.1406, 270.031, 728.023, 271.969, 437.398, 271.219, 335, 168, 478.461, 168, 534.672, 173.852, 47.7813, -28.0469, 218.781, 129.133, 472.711, 125.891, 491.688, -31.0078, 536.344, 123.672, 532.57, -44.9688, 728.969, -42.1406, 728.453, 130.188, 728.313, 176.633)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2), PackedInt32Array(3, 4, 5, 6, 7), PackedInt32Array(0, 2, 8, 9), PackedInt32Array(10, 9, 8, 11, 12), PackedInt32Array(13, 14, 15, 12, 11), PackedInt32Array(6, 10, 12, 7), PackedInt32Array(3, 7, 16)])
outlines = Array[PackedVector2Array]([PackedVector2Array(40, -38, 490, -41, 531, -55, 739, -52, 738, 282, -41, 280)])

[node name="PlayerRoom" type="Node2D"]
script = ExtResource("1_xkoml")
speed = 480

[node name="PlayerInterface" parent="." instance=ExtResource("10_jdqjg")]
visible = false

[node name="Illumination" parent="." instance=ExtResource("2_h147x")]

[node name="BackgroundCenario" type="Node2D" parent="."]

[node name="Fundo" type="Node2D" parent="BackgroundCenario"]

[node name="ColissionBase" type="StaticBody2D" parent="BackgroundCenario/Fundo"]
top_level = true
collision_layer = 2
collision_mask = 2

[node name="CollisionShape2D" type="CollisionShape2D" parent="BackgroundCenario/Fundo/ColissionBase"]
position = Vector2(-75.5, 67)
shape = SubResource("RectangleShape2D_icupd")

[node name="CollisionShape2D2" type="CollisionShape2D" parent="BackgroundCenario/Fundo/ColissionBase"]
position = Vector2(758, 68)
shape = SubResource("RectangleShape2D_icupd")

[node name="CollisionShape2D3" type="CollisionShape2D" parent="BackgroundCenario/Fundo/ColissionBase"]
position = Vector2(344.5, 300)
rotation = 1.5708
shape = SubResource("RectangleShape2D_asune")

[node name="CollisionShape2D4" type="CollisionShape2D" parent="BackgroundCenario/Fundo/ColissionBase"]
position = Vector2(276.25, -42)
rotation = 1.5708
shape = SubResource("RectangleShape2D_ogs2a")

[node name="CollisionShape2D5" type="CollisionShape2D" parent="BackgroundCenario/Fundo/ColissionBase"]
position = Vector2(-19, -73)
rotation = 1.5708
shape = SubResource("RectangleShape2D_cwiyk")

[node name="CollisionShape2D6" type="CollisionShape2D" parent="BackgroundCenario/Fundo/ColissionBase"]
position = Vector2(635, -74)
rotation = 1.5708
shape = SubResource("RectangleShape2D_n3lfm")

[node name="Mapa1" type="Sprite2D" parent="BackgroundCenario/Fundo"]
position = Vector2(341, 68)
texture = ExtResource("4_enhsl")

[node name="Pegadas" type="Node2D" parent="BackgroundCenario"]

[node name="RoomClock" parent="BackgroundCenario" instance=ExtResource("3_mx5ei")]
position = Vector2(293, -83)

[node name="OrganizadosPorY" type="Node2D" parent="."]
z_index = 1
y_sort_enabled = true

[node name="Personagens" type="Node2D" parent="OrganizadosPorY"]
y_sort_enabled = true

[node name="Doctor" parent="OrganizadosPorY/Personagens" node_paths=PackedStringArray("exit_area", "target_area") instance=ExtResource("1_413a8")]
position = Vector2(332, -30)
exit_area = NodePath("ExitArea")
target_area = NodePath("TargetArea")

[node name="TargetArea" type="Marker2D" parent="OrganizadosPorY/Personagens/Doctor"]
top_level = true
position = Vector2(638, -32)

[node name="ExitArea" type="Marker2D" parent="OrganizadosPorY/Personagens/Doctor"]
top_level = true
position = Vector2(328, -36)

[node name="Player" parent="OrganizadosPorY/Personagens" instance=ExtResource("5_6s2l1")]
position = Vector2(497, 161)

[node name="Objects" type="Node2D" parent="OrganizadosPorY"]
y_sort_enabled = true
position = Vector2(8, -4)

[node name="Cortina" type="Node2D" parent="OrganizadosPorY/Objects"]
y_sort_enabled = true
position = Vector2(112, 28)

[node name="Frontal" type="Sprite2D" parent="OrganizadosPorY/Objects/Cortina"]
position = Vector2(361, 119)
texture = ExtResource("7_unrsb")
offset = Vector2(10, 86)

[node name="CortinaLateral" type="Sprite2D" parent="OrganizadosPorY/Objects/Cortina"]
position = Vector2(132, 125)
texture = ExtResource("7_ecr0s")
offset = Vector2(118, 80)

[node name="Colision" type="StaticBody2D" parent="OrganizadosPorY/Objects/Cortina"]
z_index = 10
collision_layer = 3
collision_mask = 3

[node name="CollisionShape2D" type="CollisionShape2D" parent="OrganizadosPorY/Objects/Cortina/Colision"]
position = Vector2(85, 140)
shape = SubResource("SegmentShape2D_pp5gr")

[node name="CollisionShape2D2" type="CollisionShape2D" parent="OrganizadosPorY/Objects/Cortina/Colision"]
position = Vector2(135, 121)
shape = SubResource("SegmentShape2D_m4vg1")

[node name="CollisionShape2D3" type="CollisionShape2D" parent="OrganizadosPorY/Objects/Cortina/Colision"]
position = Vector2(232.5, 126.5)
shape = SubResource("RectangleShape2D_yn417")

[node name="CollisionShape2D5" type="CollisionShape2D" parent="OrganizadosPorY/Objects/Cortina/Colision"]
position = Vector2(542, 128)
shape = SubResource("RectangleShape2D_fy54q")

[node name="CollisionShape2D4" type="CollisionShape2D" parent="OrganizadosPorY/Objects/Cortina/Colision"]
position = Vector2(144, 135.5)
shape = SubResource("RectangleShape2D_f6fea")

[node name="Tv" parent="OrganizadosPorY/Objects" instance=ExtResource("8_55il4")]
y_sort_enabled = true
position = Vector2(58, 0)

[node name="NavigationRegion2D" type="NavigationRegion2D" parent="."]
navigation_polygon = SubResource("NavigationPolygon_q05t7")

[node name="NavigationObstacle2D2" type="NavigationObstacle2D" parent="NavigationRegion2D"]
vertices = PackedVector2Array(435, 283, 311, 158, 467, 158, 464, 136, 229, 139, 230, 185, 340, 285)
affect_navigation_mesh = true

[node name="NavigationObstacle2D3" type="NavigationObstacle2D" parent="NavigationRegion2D"]
vertices = PackedVector2Array(753, 167, 545, 164, 546, 134, 752, 141)
affect_navigation_mesh = true

[node name="EnemySpawning" type="Node" parent="." node_paths=PackedStringArray("possible_positions", "spawn_node")]
script = ExtResource("11_1tno7")
possible_positions = [NodePath("Marker2D"), NodePath("Marker2D2"), NodePath("Marker2D3")]
spawn_node = NodePath("../OrganizadosPorY/Personagens")

[node name="Marker2D" type="Marker2D" parent="EnemySpawning"]
position = Vector2(409, -5)

[node name="Marker2D2" type="Marker2D" parent="EnemySpawning"]
position = Vector2(477, -4)

[node name="Marker2D3" type="Marker2D" parent="EnemySpawning"]
position = Vector2(445, -4)
