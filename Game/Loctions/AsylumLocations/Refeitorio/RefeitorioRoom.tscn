[gd_scene load_steps=25 format=3 uid="uid://cedeuoqcqfw7b"]

[ext_resource type="Script" path="res://Game/Loctions/AsylumLocations/Refeitorio/refeitorio_room.gd" id="1_d0oqy"]
[ext_resource type="PackedScene" uid="uid://d2d1asq2fkvsq" path="res://Interface/PlayerInterface/player_interface.tscn" id="2_rmi5a"]
[ext_resource type="Script" path="res://Game/Loctions/Room/illumination.gd" id="3_op70c"]
[ext_resource type="Texture2D" uid="uid://grx8jyxat1kd" path="res://Objects/light/light.png" id="4_d7eh0"]
[ext_resource type="AudioStream" uid="uid://4v7vpuxnp7fm" path="res://Audio/Effects/swictch.wav" id="5_b5sxc"]
[ext_resource type="Texture2D" uid="uid://b6f5gppgl8opr" path="res://Sprites/Sprites mundo/refeitorio/refeitorio.png" id="6_rnc57"]
[ext_resource type="PackedScene" uid="uid://cxpyp7yoxaixr" path="res://Objects/room_clock.tscn" id="7_id1sm"]
[ext_resource type="Texture2D" uid="uid://bcgqrcju1vesx" path="res://Sprites/comida/ninguem_na_cozinha.png" id="7_lcc6n"]
[ext_resource type="Script" path="res://Game/Loctions/AsylumLocations/Refeitorio/balcao.gd" id="8_kjcdx"]
[ext_resource type="Texture2D" uid="uid://c8me8q0hj5b0x" path="res://Sprites/Sprites mundo/portas/porta 2.png" id="8_o8osj"]
[ext_resource type="PackedScene" uid="uid://7sspjh77o6vm" path="res://Game/Player/player.tscn" id="8_rk7j8"]
[ext_resource type="PackedScene" uid="uid://yje2v65lwodi" path="res://Game/Enemy/enemy_spawning.tscn" id="9_viref"]
[ext_resource type="PackedScene" uid="uid://c1d5max6as1qn" path="res://Game/Npcs/Pacients/pacient_spawning.tscn" id="10_ynoin"]
[ext_resource type="AudioStream" uid="uid://cprvuc2smhmqe" path="res://Audio/Effects/515798__ben_0815__murmur.wav" id="11_2uw0o"]
[ext_resource type="PackedScene" uid="uid://cbxurlbetdr64" path="res://Game/Loctions/AsylumLocations/Refeitorio/refeitorio/conjunto_de_mesa_e_cadeira.tscn" id="11_hcucb"]
[ext_resource type="PackedScene" uid="uid://cpe4chlg5q0t2" path="res://Game/scene_changer.tscn" id="12_72dsu"]
[ext_resource type="Script" path="res://Game/Loctions/AsylumLocations/Refeitorio/distribuidora.gd" id="14_hg1fr"]
[ext_resource type="Texture2D" uid="uid://bqwnu0a58md0" path="res://Sprites/comida/Carrinho_de_comida.png" id="17_d1jmq"]
[ext_resource type="PackedScene" uid="uid://dhf0u4kshnwol" path="res://Objects/Items/pickable_item.tscn" id="19_sq5qd"]

[sub_resource type="CompressedTexture2D" id="CompressedTexture2D_s34ym"]
load_path = "res://.godot/imported/light.png-8fdf09ef7de5c29c73dfe94c1c1879f5.ctex"

[sub_resource type="RectangleShape2D" id="RectangleShape2D_icupd"]
size = Vector2(35, 430)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_asune"]
size = Vector2(35, 875)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_ogs2a"]
size = Vector2(35, 643.75)

[sub_resource type="NavigationPolygon" id="NavigationPolygon_q05t7"]
vertices = PackedVector2Array(339, 97.1016, 342.539, 96.8984, 465, 98.1016, 349.453, 147.898, 342, 148.102, 221.453, 146.898, 72.2813, 242.977, 342, 190.102, 347.539, 189.898, 470, 191.102, 475.539, 193.898, 477.453, 151.898, 470, 149.102, 474.539, 97.8984, 597, 99.1016, 598, 153.102, 206, 96.1016, 216.539, 95.8984, 199, 148.102, 199, 190.102, 219.539, 188.898, 602.211, -24, 607.781, 242.008, 597, 57.1016, 598, 195.102, 76.5391, 188.898, 79.7266, -24, 78.4531, 146.898, 476.453, 55.8984, 339, 55.1016, 344.453, 54.8984, 465, 56.1016, 218.453, 53.8984, 206, 54.1016, 85.4531, 52.8984, 83.5391, 94.8984)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3, 4, 5), PackedInt32Array(6, 7, 8, 9, 10), PackedInt32Array(11, 12, 2, 13, 14, 15), PackedInt32Array(16, 17, 0, 5, 18), PackedInt32Array(19, 20, 7, 6), PackedInt32Array(21, 22, 15, 14, 23), PackedInt32Array(11, 10, 9, 12), PackedInt32Array(24, 22, 6, 10), PackedInt32Array(25, 19, 6), PackedInt32Array(25, 6, 26, 27), PackedInt32Array(26, 21, 23, 28), PackedInt32Array(20, 19, 18, 5), PackedInt32Array(1, 0, 29, 30), PackedInt32Array(8, 7, 4, 3), PackedInt32Array(13, 2, 31, 28), PackedInt32Array(26, 28, 31, 30), PackedInt32Array(26, 30, 29, 32), PackedInt32Array(17, 16, 33, 32), PackedInt32Array(26, 32, 33, 34), PackedInt32Array(27, 26, 34, 35), PackedInt32Array(18, 27, 35, 16), PackedInt32Array(12, 3, 2), PackedInt32Array(15, 22, 24)])
outlines = Array[PackedVector2Array]([PackedVector2Array(70, -34, 612, -34, 618, 252, 62, 253)])

[node name="RefeitorioRoom" type="Node2D"]
script = ExtResource("1_d0oqy")
timestop = true

[node name="PlayerInterface" parent="." instance=ExtResource("2_rmi5a")]
visible = false

[node name="Illumination" type="Node2D" parent="." node_paths=PackedStringArray("switchAudioPlayer", "ilumination_node", "BigLight", "SmallLight", "GlobalIllumination")]
script = ExtResource("3_op70c")
switchAudioPlayer = NodePath("AudioStreamPlayer2D")
color_night = Color(8.66354e-07, 0, 0.770133, 1)
color_day = Color(1, 1, 0.466667, 0.211765)
ilumination_node = NodePath("RoomLight")
BigLight = NodePath("RoomLight/BigLight")
SmallLight = NodePath("RoomLight/SmallLight")
GlobalIllumination = NodePath("BaseIlumination")

[node name="CanvasModulate" type="CanvasModulate" parent="Illumination"]
color = Color(0, 0, 0, 1)

[node name="BaseIlumination" type="PointLight2D" parent="Illumination"]
position = Vector2(329, 35)
color = Color(1, 1, 0.466667, 0.211765)
energy = 0.9
texture = SubResource("CompressedTexture2D_s34ym")
texture_scale = 10.0

[node name="RoomLight" type="Node2D" parent="Illumination"]
position = Vector2(18, -61)

[node name="SmallLight" type="PointLight2D" parent="Illumination/RoomLight"]
position = Vector2(282, -149)
texture = ExtResource("4_d7eh0")

[node name="BigLight" type="PointLight2D" parent="Illumination/RoomLight"]
position = Vector2(321, -82)
shadow_color = Color(0, 0, 0, 1)
texture = ExtResource("4_d7eh0")
texture_scale = 7.0

[node name="AudioStreamPlayer2D" type="AudioStreamPlayer2D" parent="Illumination"]
stream = ExtResource("5_b5sxc")

[node name="BackgroundCenario" type="Node2D" parent="."]

[node name="ColorRect" type="ColorRect" parent="BackgroundCenario"]
offset_left = -1462.0
offset_top = -668.0
offset_right = 1502.0
offset_bottom = 708.0
color = Color(0, 0, 0, 1)

[node name="Fundo" type="Node2D" parent="BackgroundCenario"]

[node name="ColissionBase" type="StaticBody2D" parent="BackgroundCenario/Fundo"]
top_level = true
collision_layer = 2
collision_mask = 2

[node name="CollisionShape2D" type="CollisionShape2D" parent="BackgroundCenario/Fundo/ColissionBase"]
position = Vector2(48, 64)
shape = SubResource("RectangleShape2D_icupd")

[node name="CollisionShape2D2" type="CollisionShape2D" parent="BackgroundCenario/Fundo/ColissionBase"]
position = Vector2(634, 61)
shape = SubResource("RectangleShape2D_icupd")

[node name="CollisionShape2D3" type="CollisionShape2D" parent="BackgroundCenario/Fundo/ColissionBase"]
position = Vector2(351, 278)
rotation = 1.5708
shape = SubResource("RectangleShape2D_asune")

[node name="CollisionShape2D4" type="CollisionShape2D" parent="BackgroundCenario/Fundo/ColissionBase"]
position = Vector2(349, -43)
rotation = 1.5708
shape = SubResource("RectangleShape2D_ogs2a")

[node name="Mapa1" type="Sprite2D" parent="BackgroundCenario/Fundo"]
position = Vector2(341, 68)
texture = ExtResource("6_rnc57")

[node name="Balcao" type="Sprite2D" parent="BackgroundCenario/Fundo/Mapa1"]
position = Vector2(-23, -128)
texture = ExtResource("7_lcc6n")
script = ExtResource("8_kjcdx")

[node name="Pegadas" type="Node2D" parent="BackgroundCenario"]

[node name="RoomClock" parent="BackgroundCenario" instance=ExtResource("7_id1sm")]
position = Vector2(87, -90)

[node name="Door" type="Node2D" parent="BackgroundCenario"]
position = Vector2(120, -42)

[node name="Sprite2D" type="Sprite2D" parent="BackgroundCenario/Door"]
texture = ExtResource("8_o8osj")

[node name="OrganizadosPorY" type="Node2D" parent="."]
z_index = 1
y_sort_enabled = true

[node name="Personagens" type="Node2D" parent="OrganizadosPorY"]
y_sort_enabled = true

[node name="Player" parent="OrganizadosPorY/Personagens" instance=ExtResource("8_rk7j8")]
position = Vector2(124, -28)
startAwake = false
awaking = false

[node name="Pacients" type="Node2D" parent="OrganizadosPorY/Personagens"]
y_sort_enabled = true

[node name="Objects" type="Node2D" parent="OrganizadosPorY"]
y_sort_enabled = true
position = Vector2(8, -4)

[node name="Mesas" type="Node2D" parent="OrganizadosPorY/Objects"]
y_sort_enabled = true
position = Vector2(4, -28)

[node name="ConjuntoDeMesaECadeira" parent="OrganizadosPorY/Objects/Mesas" instance=ExtResource("11_hcucb")]

[node name="ConjuntoDeMesaECadeira2" parent="OrganizadosPorY/Objects/Mesas" instance=ExtResource("11_hcucb")]
position = Vector2(130, 3)

[node name="ConjuntoDeMesaECadeira3" parent="OrganizadosPorY/Objects/Mesas" instance=ExtResource("11_hcucb")]
position = Vector2(257, 4)

[node name="ConjuntoDeMesaECadeira4" parent="OrganizadosPorY/Objects/Mesas" instance=ExtResource("11_hcucb")]
position = Vector2(253, -89)

[node name="ConjuntoDeMesaECadeira5" parent="OrganizadosPorY/Objects/Mesas" instance=ExtResource("11_hcucb")]
position = Vector2(124, -90)

[node name="ConjuntoDeMesaECadeira6" parent="OrganizadosPorY/Objects/Mesas" instance=ExtResource("11_hcucb")]
position = Vector2(-1, -91)

[node name="ConjuntoDeMesaECadeira7" parent="OrganizadosPorY/Objects/Mesas" instance=ExtResource("11_hcucb")]
position = Vector2(-135, -92)

[node name="ConjuntoDeMesaECadeira8" parent="OrganizadosPorY/Objects/Mesas" instance=ExtResource("11_hcucb")]
position = Vector2(-139, -1)

[node name="Bandeijas" type="Node2D" parent="OrganizadosPorY/Objects"]
y_sort_enabled = true
position = Vector2(143, -19)

[node name="Distribuidora" type="Node2D" parent="OrganizadosPorY/Objects" node_paths=PackedStringArray("Key", "NomesDeComida", "distributionLine", "mesas")]
script = ExtResource("14_hg1fr")
Key = NodePath("../../../CarrinhoDeComida/Item")
working = true
NomesDeComida = NodePath("NomesDeComida")
distributionLine = NodePath("../Bandeijas")
mesas = [NodePath("../Mesas/ConjuntoDeMesaECadeira"), NodePath("../Mesas/ConjuntoDeMesaECadeira2"), NodePath("../Mesas/ConjuntoDeMesaECadeira3"), NodePath("../Mesas/ConjuntoDeMesaECadeira4"), NodePath("../Mesas/ConjuntoDeMesaECadeira5"), NodePath("../Mesas/ConjuntoDeMesaECadeira6"), NodePath("../Mesas/ConjuntoDeMesaECadeira7"), NodePath("../Mesas/ConjuntoDeMesaECadeira8")]

[node name="NomesDeComida" type="Node2D" parent="OrganizadosPorY/Objects/Distribuidora"]
visible = false

[node name="Label" type="Label" parent="OrganizadosPorY/Objects/Distribuidora/NomesDeComida"]
offset_right = 40.0
offset_bottom = 23.0
text = "Cachorro Quente"

[node name="Label2" type="Label" parent="OrganizadosPorY/Objects/Distribuidora/NomesDeComida"]
offset_right = 40.0
offset_bottom = 23.0
text = "Hamburguer"

[node name="Label3" type="Label" parent="OrganizadosPorY/Objects/Distribuidora/NomesDeComida"]
offset_right = 40.0
offset_bottom = 23.0
text = "Pizza"

[node name="Label4" type="Label" parent="OrganizadosPorY/Objects/Distribuidora/NomesDeComida"]
offset_right = 40.0
offset_bottom = 23.0
text = "Melancia"

[node name="Label5" type="Label" parent="OrganizadosPorY/Objects/Distribuidora/NomesDeComida"]
offset_right = 40.0
offset_bottom = 23.0
text = "Refrigerante"

[node name="Label6" type="Label" parent="OrganizadosPorY/Objects/Distribuidora/NomesDeComida"]
offset_right = 40.0
offset_bottom = 23.0
text = "Suco de Laranja"

[node name="Label7" type="Label" parent="OrganizadosPorY/Objects/Distribuidora/NomesDeComida"]
offset_right = 40.0
offset_bottom = 23.0
text = "Coxa de Galinha"

[node name="NavigationRegion2D" type="NavigationRegion2D" parent="."]
visible = false
navigation_polygon = SubResource("NavigationPolygon_q05t7")
metadata/_edit_lock_ = true

[node name="NavigationObstacle2D" type="NavigationObstacle2D" parent="NavigationRegion2D"]
vertices = PackedVector2Array(94, 85, 95, 63, 196, 64, 196, 86)
affect_navigation_mesh = true

[node name="NavigationObstacle2D2" type="NavigationObstacle2D" parent="NavigationRegion2D"]
position = Vector2(133, 1)
vertices = PackedVector2Array(94, 85, 95, 63, 196, 64, 196, 86)
affect_navigation_mesh = true

[node name="NavigationObstacle2D3" type="NavigationObstacle2D" parent="NavigationRegion2D"]
position = Vector2(259, 2)
vertices = PackedVector2Array(94, 85, 95, 63, 196, 64, 196, 86)
affect_navigation_mesh = true

[node name="NavigationObstacle2D4" type="NavigationObstacle2D" parent="NavigationRegion2D"]
position = Vector2(391, 3)
vertices = PackedVector2Array(94, 85, 95, 63, 196, 64, 196, 86)
affect_navigation_mesh = true

[node name="NavigationObstacle2D5" type="NavigationObstacle2D" parent="NavigationRegion2D"]
position = Vector2(392, 99)
vertices = PackedVector2Array(94, 85, 95, 63, 196, 64, 196, 86)
affect_navigation_mesh = true

[node name="NavigationObstacle2D6" type="NavigationObstacle2D" parent="NavigationRegion2D"]
position = Vector2(264, 95)
vertices = PackedVector2Array(94, 85, 95, 63, 196, 64, 196, 86)
affect_navigation_mesh = true

[node name="NavigationObstacle2D7" type="NavigationObstacle2D" parent="NavigationRegion2D"]
position = Vector2(136, 94)
vertices = PackedVector2Array(94, 85, 95, 63, 196, 64, 196, 86)
affect_navigation_mesh = true

[node name="NavigationObstacle2D8" type="NavigationObstacle2D" parent="NavigationRegion2D"]
position = Vector2(-7, 94)
vertices = PackedVector2Array(94, 85, 95, 63, 196, 64, 196, 86)
affect_navigation_mesh = true

[node name="EnemySpawning" parent="." node_paths=PackedStringArray("pegadas_spawn_node", "spawn_node") instance=ExtResource("9_viref")]
pegadas_spawn_node = NodePath("../BackgroundCenario/Pegadas")
spawn_node = NodePath("../OrganizadosPorY/Personagens")
spawn_times = Array[Vector2]([Vector2(20, 0), Vector2(20, 30), Vector2(20, 3), Vector2(20, 4)])

[node name="Marker2D" parent="EnemySpawning" index="0"]
position = Vector2(233, 33)

[node name="Marker2D2" parent="EnemySpawning" index="1"]
position = Vector2(469, 126)

[node name="Marker2D3" parent="EnemySpawning" index="2"]
position = Vector2(241, 236)

[node name="PacientSpawning" parent="." node_paths=PackedStringArray("murmurAudioPlayer", "positions_to_go", "positions_to_sleep", "spawn_node") instance=ExtResource("10_ynoin")]
murmurAudioPlayer = NodePath("AudioStreamPlayer2D")
positions_to_go = [NodePath("Marker2D"), NodePath("Marker2D2"), NodePath("Marker2D3"), NodePath("Marker2D4"), NodePath("Marker2D5"), NodePath("Marker2D5"), NodePath("Marker2D6"), NodePath("Marker2D8")]
positions_to_sleep = [NodePath("BedsTime/Marker2D")]
spawn_node = NodePath("../OrganizadosPorY/Personagens/Pacients")
number_of_patients = 10

[node name="Marker2D" parent="PacientSpawning" index="0"]
position = Vector2(399, 111)

[node name="Marker2D2" parent="PacientSpawning" index="1"]
position = Vector2(142, 104)

[node name="Marker2D3" parent="PacientSpawning" index="2"]
position = Vector2(275, 111)

[node name="Marker2D" parent="PacientSpawning/BedsTime" index="0"]
position = Vector2(120, -28)

[node name="Marker2D2" parent="PacientSpawning/BedsTime" index="1"]
position = Vector2(934, 179)

[node name="Marker2D3" parent="PacientSpawning/BedsTime" index="2"]
position = Vector2(971, 180)

[node name="Marker2D4" type="Marker2D" parent="PacientSpawning"]
position = Vector2(534, 111)

[node name="Marker2D5" type="Marker2D" parent="PacientSpawning"]
position = Vector2(533, 211)

[node name="Marker2D6" type="Marker2D" parent="PacientSpawning"]
position = Vector2(408, 208)

[node name="Marker2D7" type="Marker2D" parent="PacientSpawning"]
position = Vector2(279, 205)

[node name="Marker2D8" type="Marker2D" parent="PacientSpawning"]
position = Vector2(141, 206)

[node name="AudioStreamPlayer2D" type="AudioStreamPlayer2D" parent="PacientSpawning"]
position = Vector2(357, 42)
stream = ExtResource("11_2uw0o")

[node name="Border" type="Node2D" parent="."]

[node name="ColorRect" type="ColorRect" parent="Border"]
z_index = 1
offset_left = -379.0
offset_top = -304.0
offset_right = 885.0
offset_bottom = -123.0
color = Color(0, 0, 0, 1)

[node name="ColorRect4" type="ColorRect" parent="Border"]
z_index = 1
offset_left = -436.0
offset_top = -196.0
offset_right = 72.0
offset_bottom = 347.0
color = Color(0, 0, 0, 1)

[node name="ColorRect2" type="ColorRect" parent="Border"]
z_index = 1
offset_left = -118.0
offset_top = 250.0
offset_right = 805.0
offset_bottom = 413.0
color = Color(0, 0, 0, 1)

[node name="ColorRect3" type="ColorRect" parent="Border"]
z_index = 1
offset_left = 607.0
offset_top = -188.0
offset_right = 1121.0
offset_bottom = 355.0
color = Color(0, 0, 0, 1)

[node name="Scenes" type="Node2D" parent="."]
position = Vector2(2, -2)

[node name="SceneChanger" parent="Scenes" instance=ExtResource("12_72dsu")]
position = Vector2(119, -39)
destination = "1"
location = "CorridorB"

[node name="Destinations" type="Node2D" parent="Scenes"]

[node name="1" type="Marker2D" parent="Scenes/Destinations"]
position = Vector2(325, -18)

[node name="CarrinhoDeComida" type="Sprite2D" parent="."]
visible = false
position = Vector2(396, -22)
texture = ExtResource("17_d1jmq")

[node name="Item" parent="CarrinhoDeComida" instance=ExtResource("19_sq5qd")]
visible = false
position = Vector2(-7, -14)
item_id = "GenericKeyCozinha"

[editable path="EnemySpawning"]
[editable path="PacientSpawning"]
