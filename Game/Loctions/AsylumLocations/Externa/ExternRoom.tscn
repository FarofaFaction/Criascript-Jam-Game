[gd_scene load_steps=18 format=3 uid="uid://du7q1qtnnvjcy"]

[ext_resource type="Script" path="res://Game/Loctions/AsylumLocations/Arte/art_room.gd" id="1_ytyyg"]
[ext_resource type="PackedScene" uid="uid://d2d1asq2fkvsq" path="res://Interface/PlayerInterface/player_interface.tscn" id="2_8i1mv"]
[ext_resource type="Script" path="res://Game/Loctions/Room/illumination.gd" id="3_vj5fu"]
[ext_resource type="Texture2D" uid="uid://grx8jyxat1kd" path="res://Objects/light/light.png" id="4_ex7hh"]
[ext_resource type="AudioStream" uid="uid://4v7vpuxnp7fm" path="res://Audio/Effects/swictch.wav" id="5_r0tw5"]
[ext_resource type="Texture2D" uid="uid://chmvgwuvlf45e" path="res://Game/Loctions/AsylumLocations/Externa/area externa/area externa.png" id="6_ia3nx"]
[ext_resource type="PackedScene" uid="uid://cxpyp7yoxaixr" path="res://Objects/room_clock.tscn" id="7_0u56d"]
[ext_resource type="PackedScene" uid="uid://7sspjh77o6vm" path="res://Game/Player/player.tscn" id="8_t457x"]
[ext_resource type="PackedScene" uid="uid://yje2v65lwodi" path="res://Game/Enemy/enemy_spawning.tscn" id="9_qqocc"]
[ext_resource type="PackedScene" uid="uid://c1d5max6as1qn" path="res://Game/Npcs/Pacients/pacient_spawning.tscn" id="10_i7pvu"]
[ext_resource type="AudioStream" uid="uid://cprvuc2smhmqe" path="res://Audio/Effects/515798__ben_0815__murmur.wav" id="11_djps2"]
[ext_resource type="PackedScene" uid="uid://cpe4chlg5q0t2" path="res://Game/scene_changer.tscn" id="12_ax4fq"]

[sub_resource type="CompressedTexture2D" id="CompressedTexture2D_s34ym"]
load_path = "res://.godot/imported/light.png-8fdf09ef7de5c29c73dfe94c1c1879f5.ctex"

[sub_resource type="RectangleShape2D" id="RectangleShape2D_icupd"]
size = Vector2(35, 430)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_asune"]
size = Vector2(35, 875)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_ogs2a"]
size = Vector2(35, 797.875)

[sub_resource type="NavigationPolygon" id="NavigationPolygon_q05t7"]
vertices = PackedVector2Array(728.023, 271.969, -28.1406, 270.031, 47.7813, -28.0469, 491.688, -31.0078, 728.969, -42.1406, 532.57, -44.9688)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3), PackedInt32Array(4, 0, 3, 5)])
outlines = Array[PackedVector2Array]([PackedVector2Array(40, -38, 490, -41, 531, -55, 739, -52, 738, 282, -41, 280)])

[node name="ArtRoom" type="Node2D"]
script = ExtResource("1_ytyyg")
metadata/_edit_group_ = true

[node name="PlayerInterface" parent="." instance=ExtResource("2_8i1mv")]
visible = false

[node name="Illumination" type="Node2D" parent="." node_paths=PackedStringArray("switchAudioPlayer", "ilumination_node", "BigLight", "SmallLight", "GlobalIllumination")]
script = ExtResource("3_vj5fu")
switchAudioPlayer = NodePath("AudioStreamPlayer2D")
color_night = Color(8.66354e-07, 0, 0.770133, 1)
color_day = Color(1, 1, 0.466667, 0.211765)
ilumination_node = NodePath("RoomLight")
BigLight = NodePath("RoomLight/BigLight")
SmallLight = NodePath("RoomLight/SmallLight")
GlobalIllumination = NodePath("BaseIlumination")

[node name="CanvasModulate" type="CanvasModulate" parent="Illumination"]
color = Color(0, 0, 0, 1)

[node name="BaseIlumination" type="PointLight2D" parent="Illumination"]
position = Vector2(329, 35)
color = Color(1, 1, 0.466667, 0.211765)
energy = 0.9
texture = SubResource("CompressedTexture2D_s34ym")
texture_scale = 10.0

[node name="RoomLight" type="Node2D" parent="Illumination"]
position = Vector2(18, -61)

[node name="SmallLight" type="PointLight2D" parent="Illumination/RoomLight"]
position = Vector2(282, -149)
texture = ExtResource("4_ex7hh")

[node name="BigLight" type="PointLight2D" parent="Illumination/RoomLight"]
position = Vector2(321, -82)
shadow_color = Color(0, 0, 0, 1)
texture = ExtResource("4_ex7hh")
texture_scale = 7.0

[node name="AudioStreamPlayer2D" type="AudioStreamPlayer2D" parent="Illumination"]
stream = ExtResource("5_r0tw5")

[node name="BackgroundCenario" type="Node2D" parent="."]

[node name="ColorRect" type="ColorRect" parent="BackgroundCenario"]
visible = false
offset_left = -1462.0
offset_top = -668.0
offset_right = 1502.0
offset_bottom = 708.0
color = Color(0, 0, 0, 1)

[node name="Fundo" type="Node2D" parent="BackgroundCenario"]

[node name="ColissionBase" type="StaticBody2D" parent="BackgroundCenario/Fundo"]
top_level = true
collision_layer = 2
collision_mask = 2

[node name="CollisionShape2D" type="CollisionShape2D" parent="BackgroundCenario/Fundo/ColissionBase"]
position = Vector2(-64, 54)
shape = SubResource("RectangleShape2D_icupd")

[node name="CollisionShape2D2" type="CollisionShape2D" parent="BackgroundCenario/Fundo/ColissionBase"]
position = Vector2(746, 58)
shape = SubResource("RectangleShape2D_icupd")

[node name="CollisionShape2D3" type="CollisionShape2D" parent="BackgroundCenario/Fundo/ColissionBase"]
position = Vector2(333, 280)
rotation = 1.5708
shape = SubResource("RectangleShape2D_asune")

[node name="CollisionShape2D4" type="CollisionShape2D" parent="BackgroundCenario/Fundo/ColissionBase"]
position = Vector2(343, -44)
rotation = 1.5708
shape = SubResource("RectangleShape2D_ogs2a")

[node name="Mapa1" type="Sprite2D" parent="BackgroundCenario/Fundo"]
position = Vector2(341, 68)
texture = ExtResource("6_ia3nx")

[node name="Pegadas" type="Node2D" parent="BackgroundCenario"]

[node name="RoomClock" parent="BackgroundCenario" instance=ExtResource("7_0u56d")]
visible = false
position = Vector2(293, -83)

[node name="OrganizadosPorY" type="Node2D" parent="."]
z_index = 1
y_sort_enabled = true

[node name="Personagens" type="Node2D" parent="OrganizadosPorY"]
y_sort_enabled = true

[node name="Player" parent="OrganizadosPorY/Personagens" instance=ExtResource("8_t457x")]
position = Vector2(343, 118)
startAwake = false
awaking = false

[node name="Pacients" type="Node2D" parent="OrganizadosPorY/Personagens"]
y_sort_enabled = true

[node name="Objects" type="Node2D" parent="OrganizadosPorY"]
y_sort_enabled = true
position = Vector2(8, -4)

[node name="NavigationRegion2D" type="NavigationRegion2D" parent="."]
visible = false
navigation_polygon = SubResource("NavigationPolygon_q05t7")

[node name="EnemySpawning" parent="." node_paths=PackedStringArray("pegadas_spawn_node", "spawn_node") instance=ExtResource("9_qqocc")]
pegadas_spawn_node = NodePath("../BackgroundCenario/Pegadas")
spawn_node = NodePath("../OrganizadosPorY/Personagens")

[node name="PacientSpawning" parent="." node_paths=PackedStringArray("murmurAudioPlayer", "spawn_node") instance=ExtResource("10_i7pvu")]
murmurAudioPlayer = NodePath("AudioStreamPlayer2D")
spawn_node = NodePath("../OrganizadosPorY/Personagens/Pacients")

[node name="AudioStreamPlayer2D" type="AudioStreamPlayer2D" parent="PacientSpawning"]
position = Vector2(357, 42)
stream = ExtResource("11_djps2")

[node name="Border" type="Node2D" parent="."]
visible = false

[node name="ColorRect" type="ColorRect" parent="Border"]
z_index = 1
offset_left = 413.0
offset_top = 266.0
offset_right = 801.0
offset_bottom = 387.0
color = Color(0, 0, 0, 1)

[node name="ColorRect4" type="ColorRect" parent="Border"]
z_index = 1
offset_left = -308.0
offset_top = -196.0
offset_right = -56.0
offset_bottom = 347.0
color = Color(0, 0, 0, 1)

[node name="ColorRect2" type="ColorRect" parent="Border"]
z_index = 1
offset_left = -118.0
offset_top = 271.0
offset_right = 805.0
offset_bottom = 392.0
color = Color(0, 0, 0, 1)

[node name="ColorRect3" type="ColorRect" parent="Border"]
z_index = 1
offset_left = 738.0
offset_top = -188.0
offset_right = 990.0
offset_bottom = 355.0
color = Color(0, 0, 0, 1)

[node name="Scenes" type="Node2D" parent="."]
visible = false
position = Vector2(2, -2)

[node name="SceneChanger" parent="Scenes" instance=ExtResource("12_ax4fq")]
position = Vector2(321, -35)
destination = "4"
location = "CorridorA"

[node name="Destinations" type="Node2D" parent="Scenes"]

[node name="1" type="Marker2D" parent="Scenes/Destinations"]
position = Vector2(325, -18)
